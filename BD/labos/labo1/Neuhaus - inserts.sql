CREATE TABLE BIEN(
	ID_BIEN 			NUMBER(10) PRIMARY KEY,
	RUE 				VARCHAR2(100) NOT NULL,
	NUMERO 				VARCHAR2(10) NOT NULL,
	LOCALITE 			VARCHAR2(50) NOT NULL,
	CODE_POSTAL 		NUMBER(4) NOT NULL,
	PROVINCE 			VARCHAR2(25) NOT NULL,
	DESCRIPTION 		VARCHAR2(1000) NOT NULL,
	SURFACE_HABITABLE 	NUMBER(4) NOT NULL,
	SURFACE_JARDIN 		NUMBER(5) NOT NULL,
	NB_PAV 				NUMBER(2) NOT NULL,
	NB_CHAC 			NUMBER(2) NOT NULL,
	NB_GARAGE 			NUMBER(2) NOT NULL,
	NB_FACADE 			NUMBER(1) NOT NULL,
	NB_SBD 				NUMBER(2),
	DATE_MISE_EN_VENTE 	DATE NOT NULL
);

INSERT INTO BIEN (
	ID_BIEN, RUE, NUMERO, LOCALITE, CODE_POSTAL, PROVINCE, DESCRIPTION,
	SURFACE_HABITABLE, SURFACE_JARDIN, NB_PAV, NB_CHAC, NB_GARAGE,
	NB_FACADE, NB_SBD, DATE_MISE_EN_VENTE
)
VALUES
(1, 'Rue du bac', '23', 'Clermont', 4890, 'Liège',
'Très belle villa dans un charmant village.', 220, 1200,
2, 3, 1, 4, 1, TO_DATE('15/03/2022', 'dd/mm/yyyy'));

INSERT INTO BIEN (
	ID_BIEN, RUE, NUMERO, LOCALITE, CODE_POSTAL, PROVINCE, DESCRIPTION,
	SURFACE_HABITABLE, SURFACE_JARDIN, NB_PAV, NB_CHAC, NB_GARAGE,
	NB_FACADE, NB_SBD, DATE_MISE_EN_VENTE
)
VALUES
(2, 'Allée des acacias', '14', 'Wavre', 1300, 'Brabant Wallon',
'Maison de maître à proximité de l''autoroute', 265, 650,
4, 3, 1, 4, 2, TO_DATE('19/05/2022', 'dd/mm/yyyy'));

INSERT INTO BIEN (
	ID_BIEN, RUE, NUMERO, LOCALITE, CODE_POSTAL, PROVINCE, DESCRIPTION,
	SURFACE_HABITABLE, SURFACE_JARDIN, NB_PAV, NB_CHAC, NB_GARAGE,
	NB_FACADE, NB_SBD, DATE_MISE_EN_VENTE
)
VALUES
(3, 'Rue Fernand Brack', '45', 'Liège', 4000, 'Liège',
'Appartement luxueux en bord de meuse', 140, 0,
1, 2, 0, 2, 1, TO_DATE('21/07/2022', 'dd/mm/yyyy'));


CREATE TABLE CANDIDAT(
	ID_CANDIDAT NUMBER(10) PRIMARY KEY,
	NOM 		VARCHAR2(50) NOT NULL,
	PRENOM 		VARCHAR2(50) NOT NULL,
	RUE 		VARCHAR2(50) NOT NULL,
	NUMERO 		NUMBER(10,0) NOT NULL,
	LOCALITE 	VARCHAR2(50) NOT NULL,
	CODE_POSTAL NUMBER(10,0) NOT NULL,
	TELEPHONE 	VARCHAR2(25) NOT NULL,
	EMAIL 		VARCHAR2(50)
);

INSERT INTO CANDIDAT (
	ID_CANDIDAT, NOM, PRENOM, RUE, NUMERO,
	LOCALITE, CODE_POSTAL, TELEPHONE, EMAIL
)
VALUES
(1, 'Frémont', 'Luc', 'Allée des alouettes', 45, 'Verviers',
4800, '087/22.23.32', 'fremont@yahoo.fr');

INSERT INTO CANDIDAT (
	ID_CANDIDAT, NOM, PRENOM, RUE, NUMERO,
	LOCALITE, CODE_POSTAL, TELEPHONE, EMAIL
)
VALUES
(2, 'El Hamdi', 'Marie', 'Rue des Vennes', 89, 'Liège',
4020, '04/225.12.65', 'Inconnu');


CREATE TABLE OFFRE(
	ID_OFFRE 	NUMBER(10) PRIMARY KEY,
	MONTANT 	NUMBER(10,2) NOT NULL,
	DATE_OFFRE 	DATE NOT NULL,
	STATUS 		CHAR(1) NOT NULL,
	ID_CANDIDAT NUMBER(10) NOT NULL,
	ID_BIEN 	NUMBER(10) NOT NULL,
	FOREIGN KEY (ID_CANDIDAT) REFERENCES CANDIDAT(ID_CANDIDAT),
	FOREIGN KEY (ID_BIEN) REFERENCES BIEN(ID_BIEN)
);

INSERT INTO OFFRE(
	ID_OFFRE, MONTANT, DATE_OFFRE, STATUS, ID_CANDIDAT, ID_BIEN
)
VALUES
(1, 265000, TO_DATE('18/06/2022', 'dd/mm/yyyy'), 'R', 1, 1);

INSERT INTO OFFRE(
	ID_OFFRE, MONTANT, DATE_OFFRE, STATUS, ID_CANDIDAT, ID_BIEN
)
VALUES
(2, 185000, TO_DATE('03/08/2022', 'dd/mm/yyyy'), 'E', 1, 3);

CREATE TABLE VENDEUR(
	ID_VENDEUR 	NUMBER(10) PRIMARY KEY,
	NOM 		VARCHAR2(50) NOT NULL,
	PRENOM 		VARCHAR2(25) NOT NULL,
	TELEPHONE 	VARCHAR2(25) NOT NULL,
	EMAIL 		VARCHAR2(50) NOT NULL
);

INSERT INTO VENDEUR(
	ID_VENDEUR, NOM, PRENOM, TELEPHONE, EMAIL
)
VALUES
(1, 'Saport', 'Gilles', '04/220.32.65', 'gsaport@gmail.com');

INSERT INTO VENDEUR(
	ID_VENDEUR, NOM, PRENOM, TELEPHONE, EMAIL
)
VALUES
(2, 'Faroux', 'Nathalie', '0474/98.23.45', 'Nat_45@yahoo.fr');

INSERT INTO VENDEUR(
	ID_VENDEUR, NOM, PRENOM, TELEPHONE, EMAIL
)
VALUES
(3, 'Pinarello', 'Francesco', '0495/45.12.26', 'francesco@gmail.com');
INSERT INTO VENDEUR(
	ID_VENDEUR, NOM, PRENOM, TELEPHONE, EMAIL
)
VALUES
(4, 'Suti', 'Marie', '0476/12.17.19', 'm_suti@scarlet.be');

CREATE TABLE GERER(
	ID_BIEN 	NUMBER(10),
	ID_VENDEUR  NUMBER(10),
	PRIMARY KEY (ID_BIEN, ID_VENDEUR),
	FOREIGN KEY (ID_BIEN) REFERENCES BIEN(ID_BIEN),
	FOREIGN KEY (ID_VENDEUR) REFERENCES VENDEUR(ID_VENDEUR)
);

INSERT INTO GERER (ID_BIEN, ID_VENDEUR) VALUES (1,1);
INSERT INTO GERER (ID_BIEN, ID_VENDEUR) VALUES (1,2);
INSERT INTO GERER (ID_BIEN, ID_VENDEUR) VALUES (2,2);
INSERT INTO GERER (ID_BIEN, ID_VENDEUR) VALUES (3,3);
INSERT INTO GERER (ID_BIEN, ID_VENDEUR) VALUES (3,1);


UPDATE CANDIDAT
SET NUMERO = 71
WHERE ID_CANDIDAT = 1,

UPDATE BIEN
SET SURFACE_HABITABLE = 240, NB_SDB = 2
WHERE ID_BIEN = 1;

DELETE FROM OFFRE
WHERE STATUS = 'R';